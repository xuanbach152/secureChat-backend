### Variables
@baseUrl = http://localhost:3000
@token = 

### 1. Test Server Health
GET {{baseUrl}}

### 2. Register User
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "test@example.com",
  "username": "testuser",
  "password": "Test1234",
  "displayName": "Test User"
}

### 3. Login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "identifier": "test@example.com",
  "password": "Test1234"
}

### 4. Get Profile (Protected - cần token từ login)
GET {{baseUrl}}/auth/profile
Authorization: Bearer {{token}}

### 5. Get User Profile via Users endpoint
GET {{baseUrl}}/users/profile
Authorization: Bearer {{token}}

### 6. Update Profile
PATCH {{baseUrl}}/users/profile
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "displayName": "Updated Name"
}

### 7. Get User by ID (public)
GET {{baseUrl}}/users/USER_ID_HERE

### 8. Google OAuth Login (Open in browser)
# Navigate to: http://localhost:3000/auth/google
# Sau khi login, sẽ redirect về frontend với token

### 9. Test với invalid credentials
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "identifier": "test@example.com",
  "password": "WrongPassword"
}

### 10. Test duplicate email registration
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "test@example.com",
  "username": "anotheruser",
  "password": "Test1234"
}
